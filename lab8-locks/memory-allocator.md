# Memory allocator

xv6中的空闲内粗以空闲链表的形式组织，每次alloc时从链表头取出一块空闲内存。并将链表头指向下一块空闲区域，free时将空闲内存放回空闲链表。在多cpu的情况下存在多cpu对空闲链表的争抢，申请内存和释放内存效率低，可以为每个cpu维护一个单独的空闲链表，供每个cpu使用，当一个cpu的空闲链表内存不足时，可以去其他cpu中争抢。

* 声明空闲链表数组，并初始化该表。
* 修改kfree时使得释放的空闲内存挂到对应的空闲链表上。
* 修改kalloc，优先从当前空闲链表上申请内存，若内存不足则去其他cpu争抢。
